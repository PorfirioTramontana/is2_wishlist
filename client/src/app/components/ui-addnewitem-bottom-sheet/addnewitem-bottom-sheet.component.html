<div x-test-tpl-83>
    <button mat-mini-fab class="cancel_newitem_button" color="secondary" (click)="dismiss()" x-test-tpl-82>x</button>
    <form [formGroup]="addNewItemForm" x-test-hook-154>
    <h2 x-test-hook-155>Add a new Item</h2>
        
        <div class="row" x-test-hook-156>
            <mat-form-field appearance="outline" class="example-full-width" x-test-hook-157>
                <mat-label x-test-hook-158>Title</mat-label>
                <input matInput placeholder="Title" formControlName="title"  autocomplete="off"
                [errorStateMatcher]="matcher">
                <!-- <mat-error>
                    <span *ngIf="!title.valid && title.touched">Please enter Title</span>
                </mat-error> -->
            </mat-form-field>
        </div>
        
        <div class="row" x-test-hook-159>
            <mat-form-field appearance="outline" class="example-full-width" x-test-hook-160>
                <mat-label x-test-hook-161>Category</mat-label>
                <select matNativeControl formControlName="category_id" x-test-hook-93>
           <!-- <select matNativeControl formControlName="category_id" required x-test-hook-93></select> -->
                    <option *ngFor="let category of categories" [value]="category.id" x-test-hook-162>
                        {{category.value}}
                      </option>
                </select>
                <!-- <mat-select formControlName="category_id" aria-placeholder="Pick one, please" x-test-hook-93>
                    <mat-option *ngFor="let category of categories" [value]="category.id" x-test-hook-94>
                      {{category.value}}
                    </mat-option>
                </mat-select> -->

                <!-- <mat-error>
                    <span *ngIf="!itemForm.get('category_id').valid && itemForm.get('category_id').touched">Please choose a category</span>
                </mat-error> -->
            </mat-form-field>
        </div>

        <div class="row" x-test-hook-163>
            <mat-form-field appearance="outline" class="example-full-width" x-test-hook-164>
                <mat-label x-test-hook-165>Image URL</mat-label>
                <input type="url" matInput placeholder="URL of the image" autocomplete="off" formControlName="image_url"
                [errorStateMatcher]="matcher">
                <!-- <mat-error>
                    <span *ngIf="!addNewItemForm.get('image_url').valid && addNewItemForm.get('image_url').touched">Please enter Image URL</span>
                </mat-error> -->
            </mat-form-field>
        </div>
        
        <div class="row" style=" margin-top: 20px;" x-test-hook-166>
            <mat-form-field appearance="outline" fluid class="example-full-width" x-test-hook-167>
                <mat-label x-test-hook-168>Description</mat-label>
                <input type="text" matInput placeholder="Description" autocomplete="off" formControlName="description"
                [errorStateMatcher]="matcher">
                <!-- <mat-error>
                    <span *ngIf="!addNewItemForm.get('description').valid && addNewItemForm.get('description').touched">Please enter a description</span>
                </mat-error> -->
            </mat-form-field>
        </div>
        
        <div class="row" x-test-hook-169>
            <mat-form-field appearance="outline" class="example-full-width" x-test-hook-170>
                <mat-label x-test-hook-171>Shop URL</mat-label>
                <input type="url" matInput autocomplete="off" placeholder="URL of the ecommerce" formControlName="shop_url"
                [errorStateMatcher]="matcher">
                <!-- <mat-error>
                    <span *ngIf="!addNewItemForm.get('shop_url').valid && addNewItemForm.get('shop_url').touched">Please enter Shop URL</span>
                </mat-error> -->
            </mat-form-field>
        </div>
      
        <mat-divider style="margin-top: 10px;margin-bottom: 20px;"  x-test-hook-172></mat-divider>
                   
        <!-- <a mat-raised-button href="{{item.value.shop_url}}" target="_blank" color="primary" *ngIf="editingItemIndex != itemIndex && item.value.shop_url && item.value.shop_url.length > 0" x-test-hook-23>Go shopping!</a> -->
      <button class="add_to_wishlist_btn" [disabled]="!addNewItemForm.valid" type="button" (click)="saveNewItem(addNewItemForm.value)" mat-flat-button color="primary">{{ isLoading ? 'Adding to wishlit...' : 'ADD to wishlist!' }}</button>
      <!-- <button *ngIf="editingItemIndex != itemIndex" mat-stroked-button (click)="switchToEdit(itemIndex)">Edit</button> -->
    
</form>
</div>
